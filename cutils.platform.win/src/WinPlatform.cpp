
#include "WinPlatform.h"
#include "SerialPort.h"

using std::string;
using std::vector;

namespace CUtils
{

/*******************************************************************************
 *
 ******************************************************************************/
WinPlatform::WinPlatform()
{
}

/*******************************************************************************
 *
 ******************************************************************************/
WinPlatform::~WinPlatform()
{
}

/*******************************************************************************
 *
 ******************************************************************************/
bool WinPlatform::initialize()
{
    return true;
}

/*******************************************************************************
 *
 ******************************************************************************/
bool WinPlatform::destroy()
{
    return true;
}

/*******************************************************************************
 *
 ******************************************************************************/
ISerialPort_ WinPlatform::createSerialPort()
{
    ISerialPort_ port(new SerialPort());

    return port;
}

/*******************************************************************************
 * 
 ******************************************************************************/
vector<string> WinPlatform::listSerialPorts()
{
    return SerialPort::listSerialPorts();
}

static IPlatform_ PLATFORM(nullptr);

/*******************************************************************************
 *
 ******************************************************************************/
IPlatform_ getPlatform()
{
    if (!PLATFORM)
    {
        PLATFORM.reset(new WinPlatform());
    }

    return PLATFORM;
}

} // namespace CUtils
