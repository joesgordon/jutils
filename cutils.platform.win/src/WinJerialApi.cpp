
#include "WinJerialApi.h"
#include "SerialPort.h"

using std::string;
using std::vector;

namespace Jerial
{

/*******************************************************************************
 *
 ******************************************************************************/
WinJerialApi::WinJerialApi()
{
}

/*******************************************************************************
 *
 ******************************************************************************/
WinJerialApi::~WinJerialApi()
{
}

/*******************************************************************************
 *
 ******************************************************************************/
void WinJerialApi::initialize()
{
}

/*******************************************************************************
 *
 ******************************************************************************/
void WinJerialApi::destroy()
{
}

/*******************************************************************************
 *
 ******************************************************************************/
ISerialPort_ WinJerialApi::createSerialPort()
{
    ISerialPort_ port(new SerialPort());

    return port;
}

/*******************************************************************************
 * 
 ******************************************************************************/
vector<string> WinJerialApi::listSerialPorts()
{
    return SerialPort::listSerialPorts();
}

static IJerialApi_ JERIAL_API;

/*******************************************************************************
 *
 ******************************************************************************/
IJerialApi_ getApi()
{
    if (!JERIAL_API)
    {
        JERIAL_API.reset(new WinJerialApi());
    }

    return JERIAL_API;
}

} // namespace Jerial
